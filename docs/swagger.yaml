openapi: 3.0.0
info:
  title: ì§€ê¸ˆ ë­í•´ìš” - ë°±ì—”ë“œ API
  version: 1.0.0
  description: ìœ„ì¹˜ ê¸°ë°˜ ê°ì • ìƒíƒœ ê³µìœ  ì•±ì˜ ë°±ì—”ë“œ API ë¬¸ì„œì…ë‹ˆë‹¤.
servers:
  - url: http://localhost:5000
paths:
  /status:
    get:
      summary: ì „ì²´ ìƒíƒœ ì¡°íšŒ
      tags: [Status]
      responses:
        '200':
          description: ìƒíƒœ ëª©ë¡ ë°˜í™˜
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Status'
    post:
      summary: ìƒˆë¡œìš´ ìƒíƒœ ë“±ë¡
      tags: [Status]
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/StatusInput'
      responses:
        '201':
          description: ìƒíƒœ ìƒì„± ì„±ê³µ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Status'
  /status/{id}:
    get:
      summary: íŠ¹ì • ìƒíƒœ ì¡°íšŒ
      tags: [Status]
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
      responses:
        '200':
          description: ìƒíƒœ ìƒì„¸ ì •ë³´ ë°˜í™˜
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Status'
        '404':
          description: ìƒíƒœë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŒ
    put:
      summary: ìƒíƒœ ìˆ˜ì •
      tags: [Status]
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/StatusUpdate'
      responses:
        '200':
          description: ìƒíƒœ ìˆ˜ì • ì„±ê³µ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Status'
        '404':
          description: ìƒíƒœë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŒ
    delete:
      summary: ìƒíƒœ ì‚­ì œ
      tags: [Status]
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
      responses:
        '200':
          description: ìƒíƒœ ì‚­ì œ ì„±ê³µ
        '404':
          description: ìƒíƒœë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŒ
components:
  schemas:
    Status:
      type: object
      properties:
        _id:
          type: string
          example: 661db9fe2910cc92060a6e23
        nickname:
          type: string
          example: í˜¼ë°¥ëŸ¬
        message:
          type: string
          example: ì ì‹¬ í˜¼ì ë¨¹ëŠ” ì¤‘ ğŸ±
        emoji:
          type: string
          example: ğŸ±
        location:
          type: object
          properties:
            latitude:
              type: number
              example: 37.5
            longitude:
              type: number
              example: 127.0
        createdAt:
          type: string
          format: date-time
          example: 2024-04-12T14:32:10.123Z
    StatusInput:
      type: object
      required:
        - nickname
        - message
        - emoji
        - location
      properties:
        nickname:
          type: string
          example: í˜¼ë°¥ëŸ¬
        message:
          type: string
          example: ì ì‹¬ í˜¼ì ë¨¹ëŠ” ì¤‘ ğŸ±
        emoji:
          type: string
          example: ğŸ±
        location:
          type: object
          properties:
            latitude:
              type: number
              example: 37.5
            longitude:
              type: number
              example: 127.0
    StatusUpdate:
      type: object
      properties:
        message:
          type: string
          example: ë„ì„œê´€ì—ì„œ ì½”ë”© ì§‘ì¤‘ ì¤‘ ğŸ’»
        emoji:
          type: string
          example: ğŸ’»
